{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, resolveComponent as _resolveComponent, createVNode as _createVNode, withModifiers as _withModifiers, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"container\"\n};\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"page-header text-center\",\n  style: {\n    \"margin-top\": \"20px\"\n  }\n}, [/*#__PURE__*/_createElementVNode(\"h1\", null, \"게시글 작성\")], -1 /* HOISTED */);\nconst _hoisted_3 = {\n  class: \"form-group\"\n};\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"label\", null, \"게시글 제목:\", -1 /* HOISTED */);\nconst _hoisted_5 = {\n  class: \"form-group\"\n};\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"label\", null, \"게시글 내용:\", -1 /* HOISTED */);\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"form-group\"\n}, [/*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"submit\",\n  class: \"btn btn-primary mt-3\"\n}, \"작성완료\")], -1 /* HOISTED */);\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_ckeditor = _resolveComponent(\"ckeditor\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, _createElementVNode(\"form\", {\n    onSubmit: _cache[2] || (_cache[2] = _withModifiers((...args) => $options.postCreate && $options.postCreate(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"div\", _hoisted_3, [_hoisted_4, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.title = $event),\n    class: \"form-control\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.title]])]), _createElementVNode(\"div\", _hoisted_5, [_hoisted_6, _createVNode(_component_ckeditor, {\n    editor: $data.editor,\n    modelValue: $data.contents,\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.contents = $event),\n    config: $data.editorConfig\n  }, null, 8 /* PROPS */, [\"editor\", \"modelValue\", \"config\"])]), _hoisted_7], 32 /* NEED_HYDRATION */)]);\n}","map":{"version":3,"names":["class","_createElementVNode","style","type","_createElementBlock","_hoisted_1","_hoisted_2","onSubmit","_cache","_withModifiers","args","$options","postCreate","_hoisted_3","_hoisted_4","$event","$data","title","_hoisted_5","_hoisted_6","_createVNode","_component_ckeditor","editor","modelValue","contents","config","editorConfig","_hoisted_7"],"sources":["/Users/song/Desktop/springproject/som-front/src/views/PostCreate.vue"],"sourcesContent":["<template>\n    <div class=\"container\">\n        <div class=\"page-header text-center\" style=\"margin-top: 20px\"><h1>게시글 작성</h1></div>\n        <form @submit.prevent=\"postCreate\">\n            <div class=\"form-group\">\n                <label>게시글 제목:</label>\n                <input type=\"text\" v-model=\"title\" class=\"form-control\">\n            </div>\n            <div class=\"form-group\">\n                <label>게시글 내용:</label>\n                <ckeditor :editor=\"editor\" v-model=\"contents\" :config=\"editorConfig\"></ckeditor>\n            </div>\n            <div class=\"form-group\">\n                <button type=\"submit\" class=\"btn btn-primary mt-3\">작성완료</button>\n            </div>\n        </form>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport CKEditor from '@ckeditor/ckeditor5-vue';\nimport ClassicEditor from '@ckeditor/ckeditor5-build-classic';\n\nexport default {\n    components: {\n    ckeditor: CKEditor.component\n    },\n    data(){\n        return{\n            title:\"\",\n            contents:'<h3>내용을 입력하세요</h3>',\n            editor: ClassicEditor,\n            editorConfig: {\n                    toolbar: [ 'heading', '|', 'bold', 'italic', 'link', 'bulletedList', 'numberedList', 'blockQuote' ],\n                    heading: {\n                        options: [\n                        { model: 'paragraph', title: '본문', class: 'ck-heading_paragraph' },\n                        { model: 'heading1', view: 'h1', title: '헤딩 1', class: 'ck-heading_heading1' },\n                        { model: 'heading2', view: 'h2', title: '헤딩 2', class: 'ck-heading_heading2' },\n                        { model: 'heading3', view: 'h3', title: '헤딩 3', class: 'ck-heading_heading3' },\n                        { model: 'heading4', view: 'h4', title: '헤딩 4', class: 'ck-heading_heading4' },\n                        { model: 'heading5', view: 'h5', title: '헤딩 5', class: 'ck-heading_heading5' },\n                        { model: 'heading6', view: 'h6', title: '헤딩 6', class: 'ck-heading_heading6' }\n                    ]\n                }\n            }\n        }\n    },\n    methods:{\n        async postCreate(){\n            try {\n                const formData = new FormData();\n                formData.append('title', this.title);\n                formData.append('contents', this.contents);\n                \n                const token = localStorage.getItem('token');\n                const headers = token ? { Authorization: `Bearer ${token}` } : {};\n                console.log(formData)\n                await axios.post(`${process.env.VUE_APP_API_BASE_URL}/board/post/create`, formData, { headers });\n                // 성공적으로 작성된 경우 리다이렉트 또는 다른 처리 수행\n                this.$router.push({ name: 'PostList' });\n            } catch (error) {\n                // 오류 발생 시 처리\n                console.error(error);\n                alert(\"입력값 확인 필요\");\n            }\n        }\n    }\n}\n</script>\n\n<style>\n.ck-editor__editable { height: 400px; }\n.ck-content { font-size: 12px; }\n</style>\n"],"mappings":";;EACSA,KAAK,EAAC;AAAW;gCAClBC,mBAAA,CAAmF;EAA9ED,KAAK,EAAC,yBAAyB;EAACE,KAAwB,EAAxB;IAAA;EAAA;iBAAyBD,mBAAA,CAAe,YAAX,QAAM,E;;EAE/DD,KAAK,EAAC;AAAY;gCACnBC,mBAAA,CAAsB,eAAf,SAAO;;EAGbD,KAAK,EAAC;AAAY;gCACnBC,mBAAA,CAAsB,eAAf,SAAO;gCAGlBA,mBAAA,CAEM;EAFDD,KAAK,EAAC;AAAY,I,aACnBC,mBAAA,CAAgE;EAAxDE,IAAI,EAAC,QAAQ;EAACH,KAAK,EAAC;GAAuB,MAAI,E;;;uBAZnEI,mBAAA,CAeM,OAfNC,UAeM,GAdFC,UAAmF,EACnFL,mBAAA,CAYO;IAZAM,QAAM,EAAAC,MAAA,QAAAA,MAAA,MAHrBC,cAAA,KAAAC,IAAA,KAG+BC,QAAA,CAAAC,UAAA,IAAAD,QAAA,CAAAC,UAAA,IAAAF,IAAA,CAAU;MAC7BT,mBAAA,CAGM,OAHNY,UAGM,GAFFC,UAAsB,E,gBACtBb,mBAAA,CAAwD;IAAjDE,IAAI,EAAC,MAAM;IANlC,uBAAAK,MAAA,QAAAA,MAAA,MAAAO,MAAA,IAM4CC,KAAA,CAAAC,KAAK,GAAAF,MAAA;IAAEf,KAAK,EAAC;iDAAbgB,KAAA,CAAAC,KAAK,E,KAErChB,mBAAA,CAGM,OAHNiB,UAGM,GAFFC,UAAsB,EACtBC,YAAA,CAAgFC,mBAAA;IAArEC,MAAM,EAAEN,KAAA,CAAAM,MAAM;IAVzCC,UAAA,EAUoDP,KAAA,CAAAQ,QAAQ;IAV5D,uBAAAhB,MAAA,QAAAA,MAAA,MAAAO,MAAA,IAUoDC,KAAA,CAAAQ,QAAQ,GAAAT,MAAA;IAAGU,MAAM,EAAET,KAAA,CAAAU;iEAE3DC,UAEM,C"},"metadata":{},"sourceType":"module","externalDependencies":[]}