{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-6f54d4a0\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"xe-widget-wrapper\",\n  style: {\n    \"width\": \"98.5%\"\n  }\n};\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"page-header text-center\",\n  style: {\n    \"margin-top\": \"20px\"\n  }\n}, [/*#__PURE__*/_createElementVNode(\"h1\", null, \"사용자 랭킹\")], -1 /* HOISTED */));\nconst _hoisted_3 = {\n  class: \"widget-list\"\n};\nconst _hoisted_4 = [\"href\"];\nconst _hoisted_5 = {\n  class: \"post-content\"\n};\nconst _hoisted_6 = {\n  class: \"post-title\"\n};\nconst _hoisted_7 = {\n  class: \"post-views\"\n};\nconst _hoisted_8 = {\n  class: \"xe-widget-wrapper\"\n};\nconst _hoisted_9 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"page-header text-center\",\n  style: {\n    \"margin-top\": \"20px\"\n  }\n}, [/*#__PURE__*/_createElementVNode(\"h1\", null, \"게시글 일간순위\")], -1 /* HOISTED */));\nconst _hoisted_10 = {\n  class: \"table\"\n};\nconst _hoisted_11 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"thead\", null, [/*#__PURE__*/_createElementVNode(\"tr\", null, [/*#__PURE__*/_createElementVNode(\"th\", null, \"순위\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"제목\")])], -1 /* HOISTED */));\nconst _hoisted_12 = [\"href\"];\nconst _hoisted_13 = {\n  class: \"xe-widget-wrapper\"\n};\nconst _hoisted_14 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"page-header text-center\",\n  style: {\n    \"margin-top\": \"20px\"\n  }\n}, [/*#__PURE__*/_createElementVNode(\"h1\", null, \"게시글 주간순위\")], -1 /* HOISTED */));\nconst _hoisted_15 = {\n  class: \"table\"\n};\nconst _hoisted_16 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"thead\", null, [/*#__PURE__*/_createElementVNode(\"tr\", null, [/*#__PURE__*/_createElementVNode(\"th\", null, \"순위\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"제목\")])], -1 /* HOISTED */));\nconst _hoisted_17 = [\"href\"];\nconst _hoisted_18 = {\n  class: \"xe-widget-wrapper\"\n};\nconst _hoisted_19 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"page-header text-center\",\n  style: {\n    \"margin-top\": \"20px\"\n  }\n}, [/*#__PURE__*/_createElementVNode(\"h1\", null, \"게시글 월간순위\")], -1 /* HOISTED */));\nconst _hoisted_20 = {\n  class: \"table\"\n};\nconst _hoisted_21 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"thead\", null, [/*#__PURE__*/_createElementVNode(\"tr\", null, [/*#__PURE__*/_createElementVNode(\"th\", null, \"순위\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"제목\")])], -1 /* HOISTED */));\nconst _hoisted_22 = [\"href\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createElementVNode(\"div\", _hoisted_1, [_hoisted_2, _createElementVNode(\"ul\", _hoisted_3, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.posts, post => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: post.id,\n      class: \"post-item\"\n    }, [_createElementVNode(\"a\", {\n      href: post.url,\n      class: \"post-link\"\n    }, [_createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"span\", _hoisted_6, _toDisplayString(post.title), 1 /* TEXT */), _createElementVNode(\"span\", _hoisted_7, _toDisplayString(post.views), 1 /* TEXT */)])], 8 /* PROPS */, _hoisted_4)]);\n  }), 128 /* KEYED_FRAGMENT */))])]), _createElementVNode(\"div\", _hoisted_8, [_hoisted_9, _createElementVNode(\"table\", _hoisted_10, [_hoisted_11, _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.postList, post => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: post.postId\n    }, [_createElementVNode(\"td\", null, _toDisplayString(post.rank), 1 /* TEXT */), _createElementVNode(\"td\", null, [_createElementVNode(\"a\", {\n      href: `/board/${post.id}/detail`\n    }, _toDisplayString($options.truncate(post.title)), 9 /* TEXT, PROPS */, _hoisted_12)])]);\n  }), 128 /* KEYED_FRAGMENT */))])])]), _createElementVNode(\"div\", _hoisted_13, [_hoisted_14, _createElementVNode(\"table\", _hoisted_15, [_hoisted_16, _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.postList2, post => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: post.postId\n    }, [_createElementVNode(\"td\", null, _toDisplayString(post.rank), 1 /* TEXT */), _createElementVNode(\"td\", null, [_createElementVNode(\"a\", {\n      href: `/board/${post.id}/detail`\n    }, _toDisplayString($options.truncate(post.title)), 9 /* TEXT, PROPS */, _hoisted_17)])]);\n  }), 128 /* KEYED_FRAGMENT */))])])]), _createElementVNode(\"div\", _hoisted_18, [_hoisted_19, _createElementVNode(\"table\", _hoisted_20, [_hoisted_21, _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.postList3, post => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: post.postId\n    }, [_createElementVNode(\"td\", null, _toDisplayString(post.rank), 1 /* TEXT */), _createElementVNode(\"td\", null, [_createElementVNode(\"a\", {\n      href: `/board/${post.id}/detail`\n    }, _toDisplayString($options.truncate(post.title)), 9 /* TEXT, PROPS */, _hoisted_22)])]);\n  }), 128 /* KEYED_FRAGMENT */))])])])], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["class","style","_createElementVNode","_createElementBlock","_Fragment","_hoisted_1","_hoisted_2","_hoisted_3","_renderList","_ctx","posts","post","key","id","href","url","_hoisted_5","_hoisted_6","_toDisplayString","title","_hoisted_7","views","_hoisted_4","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","$data","postList","postId","rank","$options","truncate","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","postList2","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","postList3","_hoisted_22"],"sources":["/Users/song/Desktop/springproject/som-front/src/views/SOMMain.vue"],"sourcesContent":["<!-- 첫 제작 -->\n<template>\n\n    <div class=\"xe-widget-wrapper\" style=\"width: 98.5%;\">\n        <div class=\"page-header text-center\" style=\"margin-top: 20px\">\n            <h1>사용자 랭킹</h1>\n        </div>\n        <ul class=\"widget-list\">\n            <li v-for=\"post in posts\" :key=\"post.id\" class=\"post-item\">\n                <a :href=\"post.url\" class=\"post-link\">\n                    <div class=\"post-content\">\n                        <span class=\"post-title\">{{ post.title }}</span>\n                        <span class=\"post-views\">{{ post.views }}</span>\n                    </div>\n                </a>\n            </li>\n        </ul>\n    </div>\n\n    <div class=\"xe-widget-wrapper\">\n        <div class=\"page-header text-center\" style=\"margin-top: 20px\">\n            <h1>게시글 일간순위</h1>\n        </div>\n        <table class=\"table\">\n            <thead>\n                <tr>\n                    <th>순위</th>\n                    <th>제목</th>\n                </tr>\n            </thead>\n            <tbody>\n                <tr v-for=\"post in postList\" :key=\"post.postId\">\n                    <td>{{post.rank}}</td>\n                    <td>\n                        <a :href=\"`/board/${post.id}/detail`\">{{ truncate(post.title) }}</a>\n                    </td>\n                </tr>\n            </tbody>\n        </table>\n    </div>\n\n    <div class=\"xe-widget-wrapper\">\n        <div class=\"page-header text-center\" style=\"margin-top: 20px\">\n            <h1>게시글 주간순위</h1>\n        </div>\n        <table class=\"table\">\n            <thead>\n                <tr>\n                    <th>순위</th>\n                    <th>제목</th>\n                </tr>\n            </thead>\n            <tbody>\n                <tr v-for=\"post in postList2\" :key=\"post.postId\">\n                    <td>{{post.rank}}</td>\n                    <td>\n                        <a :href=\"`/board/${post.id}/detail`\">{{ truncate(post.title) }}</a>\n                    </td>\n                </tr>\n            </tbody>\n        </table>\n    </div>\n\n    <div class=\"xe-widget-wrapper\">\n        <div class=\"page-header text-center\" style=\"margin-top: 20px\">\n            <h1>게시글 월간순위</h1>\n        </div>\n        <table class=\"table\">\n            <thead>\n                <tr>\n                    <th>순위</th>\n                    <th>제목</th>\n                </tr>\n            </thead>\n            <tbody>\n                <tr v-for=\"post in postList3\" :key=\"post.postId\">\n                    <td>{{post.rank}}</td>\n                    <td>\n                        <a :href=\"`/board/${post.id}/detail`\">{{ truncate(post.title) }}</a>\n                    </td>\n                </tr>\n            </tbody>\n        </table>\n    </div>\n\n\n</template>\n\n<script>\nimport axios from 'axios';\nexport default {\n    data(){\n        return{\n            postList: [],\n            postList2: [],\n            postList3: [],\n        }\n    },\n    created(){\n        this.loadPosts();\n    },\n    \n    methods: {\n        truncate(value, length = 10) {\n            if (!value) return '';\n            if (value.length <= length) return value;\n            return value.substr(0, length) + '...';\n        },\n        async loadPosts(){\n            this.isLoading = true;\n            try{\n            // params 키워드 사용해야 파라미터 방식으로 axios요청 가능\n            const params = {\n                page: this.currentPage,\n                size: this.pageSize,\n                // [this.searchType]: this.searchValue\n            }\n            if(this.searchType === \"rank\"){\n                params.rank = this.searchValue;\n            }else if(this.searchType === \"title\"){\n                params.title = this.searchValue;\n            }\n            const token = localStorage.getItem('token');\n            const headers = token ? { Authorization: `Bearer ${token}` } : {};\n            const response = await axios.get(`${process.env.VUE_APP_API_BASE_URL}/board/post/today`, {headers, params});\n            const response2 = await axios.get(`${process.env.VUE_APP_API_BASE_URL}/board/post/week`, {headers, params});\n            const response3 = await axios.get(`${process.env.VUE_APP_API_BASE_URL}/board/post/month`, {headers, params});\n            this.postList = response.data.data;\n            this.postList2 = response2.data.data;\n            this.postList3 = response3.data.data;\n            console.log(this.postList)\n            console.log(response)\n            }catch(error){\n                console.error(\"데이터 불러오기 오류:\", error); // 에러 콘솔에 표시\n            }\n            this.isLoading = false;\n        },\n\n        //     async posts(){\n        //     try{\n        //     const token = localStorage.getItem('token');\n        //     const headers = token ? {Authorization: `Bearer ${token}`} : {};\n        //     // const response = await axios.get(`${process.env.VUE_APP_API_BASE_URL}/members`, {headers});\n        //     console.log(token)\n        //     axios.post(`http://localhost:8000/board/post/list`,{headers}).then((value)=> {\n        //     console.log(value)\n        //     })\n        //     // this.memberList = response.data;\n        //     }catch(error){\n        //         console.log(error)\n        //     }\n        // },\n    },\n\n\n\n}\n</script>\n\n\n\n\n\n<style scoped>\n.xe-widget-wrapper {\n    margin-left: auto; /* 좌측 여백을 우측 여백과 동일하게 설정 */\n    margin-right: auto; /* 우측 여백을 좌측 여백과 동일하게 설정 */\n    float: left;\n    width: 460px;\n    border: 1px solid #ddd;\n    margin: 10px;\n    padding: 10px;\n    background-color: #f9f9f9;\n}\n\n.widget-list {\n    list-style: none;\n    padding: 0;\n}\n\n.post-item {\n    margin-bottom: 10px;\n}\n\n.post-link {\n    text-decoration: none;\n    color: #333;\n    display: block;\n    transition: background-color 0.3s;\n}\n\n.post-link:hover {\n    background-color: #f0f0f0;\n}\n\n.post-content {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n}\n\n.post-title {\n    flex-grow: 1;\n    font-size: 16px;\n}\n\n.post-views {\n    font-size: 14px;\n    color: #666;\n}\n</style>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}