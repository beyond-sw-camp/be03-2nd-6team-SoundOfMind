{"ast":null,"code":"import axios from 'axios';\nexport default {\n  data() {\n    return {\n      posts: [],\n      postList: [],\n      postList2: [],\n      postList3: []\n    };\n  },\n  created() {\n    this.loadPosts();\n  },\n  methods: {\n    truncate(value, length = 10) {\n      if (!value) return '';\n      if (value.length <= length) return value;\n      return value.substr(0, length) + '...';\n    },\n    async loadPosts() {\n      try {\n        const token = localStorage.getItem('token');\n        const headers = token ? {\n          Authorization: `Bearer ${token}`\n        } : {};\n        const [response1, response2, response3] = await Promise.all([axios.get(`${process.env.VUE_APP_API_BASE_URL}/board/post/today`, {\n          headers\n        }), axios.get(`${process.env.VUE_APP_API_BASE_URL}/board/post/week`, {\n          headers\n        }), axios.get(`${process.env.VUE_APP_API_BASE_URL}/board/post/month`, {\n          headers\n        })]);\n        this.postList = response1.data.data;\n        this.postList2 = response2.data.data;\n        this.postList3 = response3.data.data;\n        console.log(this.postList);\n        console.log(response1);\n      } catch (error) {\n        console.error(\"데이터 불러오기 오류:\", error);\n        console.error(\"데이터 불러오기 오류:\", error);\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","data","posts","postList","postList2","postList3","created","loadPosts","methods","truncate","value","length","substr","token","localStorage","getItem","headers","Authorization","response1","response2","response3","Promise","all","get","process","env","VUE_APP_API_BASE_URL","console","log","error"],"sources":["/Users/song/Desktop/springproject/som-front/src/views/SOMMain.vue"],"sourcesContent":["<template>\n    <div class=\"container mx-auto flex flex-wrap\">\n      <!-- 게시글 월간순위 -->\n      <div class=\"mt-10 w-full md:w-1/4 px-2\">\n        <div class=\"box-shadow p-4 mb-6\">\n          <div class=\"page-header text-center\">\n            <h1 class=\"text-3xl font-bold mb-5\">게시글 월간순위</h1>\n          </div>\n          <table class=\"w-full\">\n            <thead>\n              <tr>\n                <th class=\"border-b border-gray-300 py-2\">순위</th>\n                <th class=\"border-b border-gray-300 py-2\">제목</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"post in postList3\" :key=\"post.postId\" class=\"border-b border-gray-200 last:border-b-0\">\n                <td class=\"py-2\">{{ post.rank }}</td>\n                <td class=\"py-2\">\n                  <a :href=\"`/board/${post.id}/detail`\" class=\"text-blue-500\">{{ truncate(post.title) }}</a>\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n      <!-- 게시글 주간순위 -->\n      <div class=\"mt-10 w-full md:w-1/4 px-2\">\n        <div class=\"box-shadow p-4 mb-6\">\n          <div class=\"page-header text-center\">\n            <h1 class=\"text-3xl font-bold mb-5\">게시글 주간순위</h1>\n          </div>\n          <table class=\"w-full\">\n            <thead>\n              <tr>\n                <th class=\"border-b border-gray-300 py-2\">순위</th>\n                <th class=\"border-b border-gray-300 py-2\">제목</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"post in postList2\" :key=\"post.postId\" class=\"border-b border-gray-200 last:border-b-0\">\n                <td class=\"py-2\">{{ post.rank }}</td>\n                <td class=\"py-2\">\n                  <a :href=\"`/board/${post.id}/detail`\" class=\"text-blue-500\">{{ truncate(post.title) }}</a>\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n      <!-- 게시글 일간순위 -->\n      <div class=\"mt-10 w-full md:w-1/4 px-2\">\n        <div class=\"box-shadow p-4 mb-6\">\n          <div class=\"page-header text-center\">\n            <h1 class=\"text-3xl font-bold mb-5\">게시글 일간순위</h1>\n          </div>\n          <table class=\"w-full\">\n            <thead>\n              <tr>\n                <th class=\"border-b border-gray-300 py-2\">순위</th>\n                <th class=\"border-b border-gray-300 py-2\">제목</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"post in postList\" :key=\"post.postId\" class=\"border-b border-gray-200 last:border-b-0\">\n                <td class=\"py-2\">{{ post.rank }}</td>\n                <td class=\"py-2\">\n                  <a :href=\"`/board/${post.id}/detail`\" class=\"text-blue-500\">{{ truncate(post.title) }}</a>\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n      <!-- 사용자 랭킹 -->\n      <div class=\"mt-10 w-full md:w-1/4 px-2\">\n        <div class=\"box-shadow p-4 mb-6\">\n          <div class=\"page-header text-center\">\n            <h1 class=\"text-3xl font-bold mb-5\">사용자 랭킹</h1>\n          </div>\n          <table class=\"w-full\">\n            <thead>\n              <tr>\n                <th class=\"border-b border-gray-300 py-2\">순위</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"post in postList\" :key=\"post.postId\" class=\"border-b border-gray-200 last:border-b-0\">\n                <td class=\"py-2\">{{ post.rank }}</td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  </template>\n  <script>\n  import axios from 'axios';\n  export default {\n    data() {\n      return {\n        posts: [],\n        postList: [],\n        postList2: [],\n        postList3: []\n      }\n    },\n    created() {\n      this.loadPosts();\n    },\n    methods: {\n      truncate(value, length = 10) {\n        if (!value) return '';\n        if (value.length <= length) return value;\n        return value.substr(0, length) + '...';\n      },\n      async loadPosts() {\n        try {\n          const token = localStorage.getItem('token');\n          const headers = token ? { Authorization: `Bearer ${token}` } : {};\n          const [response1, response2, response3] = await Promise.all([\n            axios.get(`${process.env.VUE_APP_API_BASE_URL}/board/post/today`, { headers }),\n            axios.get(`${process.env.VUE_APP_API_BASE_URL}/board/post/week`, { headers }),\n            axios.get(`${process.env.VUE_APP_API_BASE_URL}/board/post/month`, { headers })\n          ]);\n          this.postList = response1.data.data;\n          this.postList2 = response2.data.data;\n          this.postList3 = response3.data.data;\n          console.log(this.postList);\n          console.log(response1);\n        } catch (error) {\n          console.error(\"데이터 불러오기 오류:\", error);\n          console.error(\"데이터 불러오기 오류:\", error);\n        }\n      }\n    }\n  }\n  </script>\n  <style scoped>\n  .container {\n    max-width: 1500px; /* 컨테이너의 최대 너비를 조정합니다. */\n    margin-left: auto;\n    margin-right: auto;\n  }\n  .box-shadow {\n    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n  }\n  </style>"],"mappings":"AAiGE,OAAOA,KAAI,MAAO,OAAO;AACzB,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,KAAK,EAAE,EAAE;MACTC,QAAQ,EAAE,EAAE;MACZC,SAAS,EAAE,EAAE;MACbC,SAAS,EAAE;IACb;EACF,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAI,CAACC,SAAS,CAAC,CAAC;EAClB,CAAC;EACDC,OAAO,EAAE;IACPC,QAAQA,CAACC,KAAK,EAAEC,MAAK,GAAI,EAAE,EAAE;MAC3B,IAAI,CAACD,KAAK,EAAE,OAAO,EAAE;MACrB,IAAIA,KAAK,CAACC,MAAK,IAAKA,MAAM,EAAE,OAAOD,KAAK;MACxC,OAAOA,KAAK,CAACE,MAAM,CAAC,CAAC,EAAED,MAAM,IAAI,KAAK;IACxC,CAAC;IACD,MAAMJ,SAASA,CAAA,EAAG;MAChB,IAAI;QACF,MAAMM,KAAI,GAAIC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;QAC3C,MAAMC,OAAM,GAAIH,KAAI,GAAI;UAAEI,aAAa,EAAG,UAASJ,KAAM;QAAE,IAAI,CAAC,CAAC;QACjE,MAAM,CAACK,SAAS,EAAEC,SAAS,EAAEC,SAAS,IAAI,MAAMC,OAAO,CAACC,GAAG,CAAC,CAC1DtB,KAAK,CAACuB,GAAG,CAAE,GAAEC,OAAO,CAACC,GAAG,CAACC,oBAAqB,mBAAkB,EAAE;UAAEV;QAAQ,CAAC,CAAC,EAC9EhB,KAAK,CAACuB,GAAG,CAAE,GAAEC,OAAO,CAACC,GAAG,CAACC,oBAAqB,kBAAiB,EAAE;UAAEV;QAAQ,CAAC,CAAC,EAC7EhB,KAAK,CAACuB,GAAG,CAAE,GAAEC,OAAO,CAACC,GAAG,CAACC,oBAAqB,mBAAkB,EAAE;UAAEV;QAAQ,CAAC,EAC9E,CAAC;QACF,IAAI,CAACb,QAAO,GAAIe,SAAS,CAACjB,IAAI,CAACA,IAAI;QACnC,IAAI,CAACG,SAAQ,GAAIe,SAAS,CAAClB,IAAI,CAACA,IAAI;QACpC,IAAI,CAACI,SAAQ,GAAIe,SAAS,CAACnB,IAAI,CAACA,IAAI;QACpC0B,OAAO,CAACC,GAAG,CAAC,IAAI,CAACzB,QAAQ,CAAC;QAC1BwB,OAAO,CAACC,GAAG,CAACV,SAAS,CAAC;MACxB,EAAE,OAAOW,KAAK,EAAE;QACdF,OAAO,CAACE,KAAK,CAAC,cAAc,EAAEA,KAAK,CAAC;QACpCF,OAAO,CAACE,KAAK,CAAC,cAAc,EAAEA,KAAK,CAAC;MACtC;IACF;EACF;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}